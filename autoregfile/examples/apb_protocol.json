{
    "module_name": "apb_example",
    "data_width": 32,
    "addr_width": 8,
    "bus_protocol": "apb",
    "registers": [
        {
            "name": "CTRL_REG",
            "address": "0x00",
            "type": "ReadWrite",
            "reset_value": "0x00000000",
            "description": "控制寄存器",
            "fields": [
                {
                    "name": "ENABLE",
                    "bits": "0",
                    "description": "全局使能信号"
                },
                {
                    "name": "START",
                    "bits": "1",
                    "description": "启动操作"
                },
                {
                    "name": "SOFT_RESET",
                    "bits": "2",
                    "description": "软复位信号"
                },
                {
                    "name": "MODE",
                    "bits": "4:3",
                    "description": "工作模式选择"
                },
                {
                    "name": "RESERVED",
                    "bits": "31:5",
                    "description": "保留位"
                }
            ]
        },
        {
            "name": "STATUS_REG",
            "address": "0x04",
            "type": "ReadOnly",
            "reset_value": "0x00000000",
            "description": "状态寄存器",
            "fields": [
                {
                    "name": "BUSY",
                    "bits": "0",
                    "description": "忙状态标志"
                },
                {
                    "name": "DONE",
                    "bits": "1",
                    "description": "完成标志"
                },
                {
                    "name": "ERROR",
                    "bits": "2",
                    "description": "错误标志"
                },
                {
                    "name": "RESERVED",
                    "bits": "31:3",
                    "description": "保留位"
                }
            ]
        },
        {
            "name": "INTR_ENABLE_REG",
            "address": "0x08",
            "type": "ReadWrite",
            "reset_value": "0x00000000",
            "description": "中断使能寄存器",
            "fields": [
                {
                    "name": "DONE_IE",
                    "bits": "0",
                    "description": "完成中断使能"
                },
                {
                    "name": "ERROR_IE",
                    "bits": "1",
                    "description": "错误中断使能"
                },
                {
                    "name": "RESERVED",
                    "bits": "31:2",
                    "description": "保留位"
                }
            ]
        },
        {
            "name": "INTR_STATUS_REG",
            "address": "0x0C",
            "type": "Write1Clean",
            "reset_value": "0x00000000",
            "description": "中断状态寄存器（写1清零）",
            "fields": [
                {
                    "name": "DONE_INT",
                    "bits": "0",
                    "description": "完成中断状态"
                },
                {
                    "name": "ERROR_INT",
                    "bits": "1",
                    "description": "错误中断状态"
                },
                {
                    "name": "RESERVED",
                    "bits": "31:2",
                    "description": "保留位"
                }
            ]
        },
        {
            "name": "DATA_REG",
            "address": "0x10",
            "type": "ReadWrite",
            "reset_value": "0x00000000",
            "description": "数据寄存器",
            "fields": [
                {
                    "name": "DATA",
                    "bits": "31:0",
                    "description": "数据值"
                }
            ]
        },
        {
            "name": "CONFIG_REG",
            "address": "0x14",
            "type": "ReadWrite",
            "locked_by": ["CTRL_REG"],
            "reset_value": "0x00000000",
            "description": "配置寄存器（当CTRL_REG[0]=1时锁定）",
            "fields": [
                {
                    "name": "PARAM_A",
                    "bits": "7:0",
                    "description": "参数A"
                },
                {
                    "name": "PARAM_B",
                    "bits": "15:8",
                    "description": "参数B"
                },
                {
                    "name": "PARAM_C",
                    "bits": "23:16",
                    "description": "参数C"
                },
                {
                    "name": "PARAM_D",
                    "bits": "31:24",
                    "description": "参数D"
                }
            ]
        },
        {
            "name": "PULSE_REG",
            "address": "0x18",
            "type": "Write1Pulse",
            "reset_value": "0x00000000",
            "description": "脉冲输出寄存器（写1产生一个周期脉冲）",
            "fields": [
                {
                    "name": "TRIGGER_A",
                    "bits": "0",
                    "description": "触发器A"
                },
                {
                    "name": "TRIGGER_B",
                    "bits": "1",
                    "description": "触发器B"
                },
                {
                    "name": "TRIGGER_C",
                    "bits": "2",
                    "description": "触发器C"
                },
                {
                    "name": "RESERVED",
                    "bits": "31:3",
                    "description": "保留位"
                }
            ]
        },
        {
            "name": "VERSION_REG",
            "address": "0x1C",
            "type": "ReadOnly",
            "reset_value": "0x00010000",
            "description": "版本信息寄存器",
            "fields": [
                {
                    "name": "MINOR",
                    "bits": "7:0",
                    "description": "次版本号"
                },
                {
                    "name": "MAJOR",
                    "bits": "15:8",
                    "description": "主版本号"
                },
                {
                    "name": "RESERVED",
                    "bits": "31:16",
                    "description": "保留位"
                }
            ]
        }
    ]
} 