# custom_regfile 寄存器文件说明文档

*生成时间: 2025-03-24 19:30:49*

## 基本信息

| 参数 | 值 |
|------|-----|
| 模块名称 | custom_regfile |
| 数据位宽 | 32 位 |
| 地址位宽 | 8 位 |
| 写端口数量 | 1 |
| 读端口数量 | 2 |
| 字节使能 | 是 |
| 复位类型 | 异步复位 |

## 寄存器列表

| 寄存器名称 | 地址 | 类型 | 描述 |
|-----------|------|------|------|
| CTRL_REG | 0x0 | ReadWrite | 控制寄存器 |
| STATUS_REG | 0x4 | ReadOnly | 状态寄存器 |
| INT_FLAGS | 0x8 | ReadClean | 中断标志寄存器，读取后自动清零 |
| INT_ENABLE | 0xC | ReadWrite | 中断使能寄存器 |
| TX_DATA | 0x10 | WriteOnly | 发送数据寄存器，只能写入 |
| RX_DATA | 0x14 | ReadOnly | 接收数据寄存器，只能读取 |
| CONFIG | 0x18 | ReadWrite | 配置寄存器 |
| INT_CLEAR | 0x1C | Write1Clean | 中断清除寄存器，写1清零中断标志 |
| INT_SET | 0x20 | Write1Set | 中断设置寄存器，写1设置中断标志 |
| LOCK_REG | 0x24 | WriteOnce | 锁定寄存器，只能写入一次 |

## 寄存器详细说明

### CTRL_REG (ReadWrite)

**地址**: 0x0

**描述**: 控制寄存器

**复位值**: 0x00000000

**访问类型**: 读/写

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|
| ENABLE | 1 | ReadWrite | 全局使能位 |
| MODE | 2 | ReadWrite | 工作模式 |
| START | 1 | ReadWrite | 开始传输 |

### STATUS_REG (ReadOnly)

**地址**: 0x4

**描述**: 状态寄存器

**复位值**: 0x00000000

**访问类型**: 只读

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|
| BUSY | 1 | ReadOnly | 忙状态指示 |
| ERROR | 1 | ReadOnly | 错误状态指示 |

### INT_FLAGS (ReadClean)

**地址**: 0x8

**描述**: 中断标志寄存器，读取后自动清零

**复位值**: 0x00000000

**访问类型**: 读清零

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|
| TX_DONE | 1 | ReadClean | 发送完成中断 |
| RX_DONE | 1 | ReadClean | 接收完成中断 |
| ERROR | 1 | ReadClean | 错误中断 |

### INT_ENABLE (ReadWrite)

**地址**: 0xC

**描述**: 中断使能寄存器

**复位值**: 0x00000000

**访问类型**: 读/写

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|

### TX_DATA (WriteOnly)

**地址**: 0x10

**描述**: 发送数据寄存器，只能写入

**复位值**: 0x00000000

**访问类型**: 只写

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|

### RX_DATA (ReadOnly)

**地址**: 0x14

**描述**: 接收数据寄存器，只能读取

**复位值**: 0x00000000

**访问类型**: 只读

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|

### CONFIG (ReadWrite)

**地址**: 0x18

**描述**: 配置寄存器

**复位值**: 0x00000001

**访问类型**: 读/写

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|

### INT_CLEAR (Write1Clean)

**地址**: 0x1C

**描述**: 中断清除寄存器，写1清零中断标志

**复位值**: 0x00000000

**访问类型**: 写清零

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|

### INT_SET (Write1Set)

**地址**: 0x20

**描述**: 中断设置寄存器，写1设置中断标志

**复位值**: 0x00000000

**访问类型**: 写置位

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|

### LOCK_REG (WriteOnce)

**地址**: 0x24

**描述**: 锁定寄存器，只能写入一次

**复位值**: 0x00000000

**访问类型**: 只写一次

**位域定义**:

| 位域 | 位宽 | 类型 | 描述 |
|------|------|------|------|


## 接口说明

### 时钟与复位

- `clk`: 时钟信号
- `rst_n`: 异步低电平复位

### 写接口
#### 写端口 0

- `wr_en_0`: 写使能信号
- `wr_addr_0`: 8位写地址
- `wr_data_0`: 32位写数据
- `wr_be_0`: 4位字节使能

### 读接口
#### 读端口 0

- `rd_addr_0`: 8位读地址
- `rd_data_0`: 32位读数据
#### 读端口 1

- `rd_addr_1`: 8位读地址
- `rd_data_1`: 32位读数据

## 寄存器类型说明

- **ReadWrite**: 标准读写寄存器
- **ReadOnly**: 只读寄存器，忽略写操作
- **WriteOnly**: 只写寄存器，读取时返回0
- **ReadClean**: 读取后自动清零的寄存器
- **ReadSet**: 读取后自动置位的寄存器
- **WriteOnce**: 只写一次寄存器，写入后不可再修改
- **Write1Clean**: 写1清零对应位，可读
- **Write1Set**: 写1置位对应位，可读 